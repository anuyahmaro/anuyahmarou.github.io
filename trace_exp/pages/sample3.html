<head>
    <!--Import Google Icon Font-->
    <!--<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">-->
    <!--Import materialize.css-->
    <!--<link rel="stylesheet" href="../static/css/materialize.min.css">-->
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.2.1.min.js"></script>
    <script src="https://cdn.rawgit.com/Dogfalo/materialize/fc44c862/dist/js/materialize.min.js"></script>
    <script type="text/javascript" src="../static/js/pagination.js"></script>

    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../static/css/myStyles2.css" />

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta charset="UTF-8">
    <title>Pagination</title>
</head>
<body>
<div class="row">
    <div class = "artifact-panels col s12">
    <div class="col s4 m4 l6 offset-l2 center">
        <!--<input type="text" id="search" placeholder="Type to search..." />-->
        <table cellpadding="1" cellspacing="1" class="table table-hover" id="myTable">

            <colgroup>
                <col span="1" style="width: 70%;">
                <col span="1" style="width: 30%;">
            </colgroup>

            <!--<tbody class="each_target_artifact"><tr id="row1" class="collapsible_" style="background-color: white;"><td><div><div class="action_btn" style="margin-top: 12px; margin-bottom: 12px;"><a class="targ_art_name waves-effect waves-light blue-grey lighten-3 dim-grey-text btn-small artifact-type collapsible_new" id="row1_target_button" style="color: black; margin-left: 20px;">Target 1680</a><button type="button" class="btn btn-small score_btn" style="background-color: white; cursor: unset; box-shadow: none; color: black; margin-left: 2px;"><b>Score: </b>1</button><button type="button" class="btn btn-small tooltipped vetting-det modal-trigger vetting_btn" id="modal1_fire" href="#modal1" data-position="bottom" data-tooltip="I am a tooltip" style="box-shadow: none; background-color: white; margin-left: 2px; color: black;">5 <i class="material-icons" style="font-size: 1em">thumb_up</i> 2 <i class="material-icons" style="font-size: 1em">thumb_down</i></button></div><p class="art_summary" style="display: block; font-size: 0.9em; padding: 10px; margin-left: 20px;">The system shall allow event-delay capability for pre-admission, discharge, and transfer orders....</p></div></td><td><div id="row1_vote" style="font-size: 0.8em; display:inline-block; padding:7px;">-->
                <!--<label>-->
                    <!--<input name="group1" type="radio" checked="">-->
                    <!--<span style="color: black">Link</span>-->
                <!--</label>-->
                <!--<label>-->
                    <!--<input name="group1" type="radio">-->
                    <!--<span style="color: black">No link</span>-->
                <!--</label>-->
                <!--<label>-->
                    <!--<input name="group1" type="radio">-->
                    <!--<span style="color: black">Unvetted</span>-->
                <!--</label>-->
            <!--</div></td></tr><tr class="collapse-content" id="row1_content" style="background-color: white;"><td><div id="row1_content_data" class="collapsed_content_data" style="display: none; padding: 10px; background-color: rgb(236, 239, 241);">The system shall allow event-delay capability for pre-admission, discharge, and transfer orders.</div></td><td></td></tr></tbody>-->


            <!--<tbody class="each_target_artifact"><tr id="row2" class="collapsible_" style="background-color: white;"><td><div><div class="action_btn" style="margin-top: 12px; margin-bottom: 12px;"><a class="targ_art_name waves-effect waves-light blue-grey lighten-3 dim-grey-text btn-small artifact-type collapsible_new" id="row2_target_button" style="color: black; margin-left: 20px;">Target 1681</a><button type="button" class="btn btn-small score_btn" style="background-color: white; cursor: unset; box-shadow: none; color: black; margin-left: 2px;"><b>Score: </b>0.85</button><button type="button" class="btn btn-small tooltipped vetting-det modal-trigger vetting_btn" id="modal2_fire" href="#modal2" data-position="bottom" data-tooltip="I am a tooltip" style="box-shadow: none; background-color: white; margin-left: 2px; color: black;">5 <i class="material-icons" style="font-size: 1em">thumb_up</i> 2 <i class="material-icons" style="font-size: 1em">thumb_down</i></button></div><p class="art_summary" style="display: block; font-size: 0.9em; padding: 10px; margin-left: 20px;">The system shall allow complete order sets to be predefined and personalized....</p></div></td><td><div id="row2_vote" style="font-size: 0.8em; display:inline-block; padding:7px;">-->
                <!--<label>-->
                    <!--<input name="group2" type="radio" checked="">-->
                    <!--<span style="color: black">Link</span>-->
                <!--</label>-->
                <!--<label>-->
                    <!--<input name="group2" type="radio">-->
                    <!--<span style="color: black">No link</span>-->
                <!--</label>-->
                <!--<label>-->
                    <!--<input name="group2" type="radio">-->
                    <!--<span style="color: black">Unvetted</span>-->
                <!--</label>-->
            <!--</div></td></tr><tr class="collapse-content" id="row2_content" style="background-color: white;"><td><div id="row2_content_data" class="collapsed_content_data" style="display: none; padding: 10px; background-color: rgb(236, 239, 241);">The system shall allow complete order sets to be predefined and personalized.</div></td><td></td></tr></tbody>-->


            <!--<tbody class="each_target_artifact"><tr id="row3" class="collapsible_" style="background-color: white;"><td><div><div class="action_btn" style="margin-top: 12px; margin-bottom: 12px;"><a class="targ_art_name waves-effect waves-light blue-grey lighten-3 dim-grey-text btn-small artifact-type collapsible_new" id="row3_target_button" style="color: black; margin-left: 20px;">Target 1682</a><button type="button" class="btn btn-small score_btn" style="background-color: white; cursor: unset; box-shadow: none; color: black; margin-left: 2px;"><b>Score: </b>0.72</button><button type="button" class="btn btn-small tooltipped vetting-det modal-trigger vetting_btn" id="modal3_fire" href="#modal3" data-position="bottom" data-tooltip="I am a tooltip" style="box-shadow: none; background-color: white; margin-left: 2px; color: black;">5 <i class="material-icons" style="font-size: 1em">thumb_up</i> 2 <i class="material-icons" style="font-size: 1em">thumb_down</i></button></div><p class="art_summary" style="display: block; font-size: 0.9em; padding: 10px; margin-left: 20px;">At admission and discharge from the hospital, the system shall provide the ability to permit the clinician to designate which home medications are being continued / discontinued....</p></div></td><td><div id="row3_vote" style="font-size: 0.8em; display:inline-block; padding:7px;">-->
                <!--<label>-->
                    <!--<input name="group3" type="radio" checked="">-->
                    <!--<span style="color: black">Link</span>-->
                <!--</label>-->
                <!--<label>-->
                    <!--<input name="group3" type="radio">-->
                    <!--<span style="color: black">No link</span>-->
                <!--</label>-->
                <!--<label>-->
                    <!--<input name="group3" type="radio">-->
                    <!--<span style="color: black">Unvetted</span>-->
                <!--</label>-->
            <!--</div></td></tr><tr class="collapse-content" id="row3_content" style="background-color: white;"><td><div id="row3_content_data" class="collapsed_content_data" style="display: none; padding: 10px; background-color: rgb(236, 239, 241);">At admission and discharge from the hospital, the system shall provide the ability to permit the clinician to designate which home medications are being continued / discontinued.</div></td><td></td></tr></tbody>-->

            <!--<tbody class="each_target_artifact"><tr id="row4" class="collapsible_" style="background-color: white;"><td><div><div class="action_btn" style="margin-top: 12px; margin-bottom: 12px;"><a class="targ_art_name waves-effect waves-light blue-grey lighten-3 dim-grey-text btn-small artifact-type collapsible_new" id="row4_target_button" style="color: black; margin-left: 20px;">Target 465</a><button type="button" class="btn btn-small score_btn" style="background-color: white; cursor: unset; box-shadow: none; color: black; margin-left: 2px;"><b>Score: </b>0.65</button><button type="button" class="btn btn-small tooltipped vetting-det modal-trigger vetting_btn" id="modal4_fire" href="#modal4" data-position="bottom" data-tooltip="I am a tooltip" style="box-shadow: none; background-color: white; margin-left: 2px; color: black;">5 <i class="material-icons" style="font-size: 1em">thumb_up</i> 2 <i class="material-icons" style="font-size: 1em">thumb_down</i></button></div><p class="art_summary" style="display: block; font-size: 0.9em; padding: 10px; margin-left: 20px;">The system shall provide a means to edit discharge instructions for a particular patient....</p></div></td><td><div id="row4_vote" style="font-size: 0.8em; display:inline-block; padding:7px;">-->
                <!--<label>-->
                    <!--<input name="group4" type="radio" checked="">-->
                    <!--<span style="color: black">Link</span>-->
                <!--</label>-->
                <!--<label>-->
                    <!--<input name="group4" type="radio">-->
                    <!--<span style="color: black">No link</span>-->
                <!--</label>-->
                <!--<label>-->
                    <!--<input name="group4" type="radio">-->
                    <!--<span style="color: black">Unvetted</span>-->
                <!--</label>-->
            <!--</div></td></tr><tr class="collapse-content" id="row4_content" style="background-color: white;"><td><div id="row4_content_data" class="collapsed_content_data" style="display: none; padding: 10px; background-color: rgb(236, 239, 241);">The system shall provide a means to edit discharge instructions for a particular patient.</div></td><td></td></tr></tbody>-->

            <!--<tbody class="each_target_artifact"><tr id="row5" class="collapsible_" style="background-color: white;"><td><div><div class="action_btn" style="margin-top: 12px; margin-bottom: 12px;"><a class="targ_art_name waves-effect waves-light blue-grey lighten-3 dim-grey-text btn-small artifact-type collapsible_new" id="row5_target_button" style="color: black; margin-left: 20px;">Target 469</a><button type="button" class="btn btn-small score_btn" style="background-color: white; cursor: unset; box-shadow: none; color: black; margin-left: 2px;"><b>Score: </b>0.62</button><button type="button" class="btn btn-small tooltipped vetting-det modal-trigger vetting_btn" id="modal5_fire" href="#modal5" data-position="bottom" data-tooltip="I am a tooltip" style="box-shadow: none; background-color: white; margin-left: 2px; color: black;">5 <i class="material-icons" style="font-size: 1em">thumb_up</i> 2 <i class="material-icons" style="font-size: 1em">thumb_down</i></button></div><p class="art_summary" style="display: block; font-size: 0.9em; padding: 10px; margin-left: 20px;">The system shall provide a means to manage discharge instructions....</p></div></td><td><div id="row5_vote" style="font-size: 0.8em; display:inline-block; padding:7px;">-->
                <!--<label>-->
                    <!--<input name="group5" type="radio" checked="">-->
                    <!--<span style="color: black">Link</span>-->
                <!--</label>-->
                <!--<label>-->
                    <!--<input name="group5" type="radio">-->
                    <!--<span style="color: black">No link</span>-->
                <!--</label>-->
                <!--<label>-->
                    <!--<input name="group5" type="radio">-->
                    <!--<span style="color: black">Unvetted</span>-->
                <!--</label>-->
            <!--</div></td></tr><tr class="collapse-content" id="row5_content" style="background-color: white;"><td><div id="row5_content_data" class="collapsed_content_data" style="display: none; padding: 10px; background-color: rgb(236, 239, 241);">The system shall provide a means to manage discharge instructions.</div></td><td></td></tr></tbody>-->

            <!--<tbody class="each_target_artifact"><tr id="row6" class="collapsible_" style="background-color: white;"><td><div><div class="action_btn" style="margin-top: 12px; margin-bottom: 12px;"><a class="targ_art_name waves-effect waves-light blue-grey lighten-3 dim-grey-text btn-small artifact-type collapsible_new" id="row6_target_button" style="color: black; margin-left: 20px;">Target 1015</a><button type="button" class="btn btn-small score_btn" style="background-color: white; cursor: unset; box-shadow: none; color: black; margin-left: 2px;"><b>Score: </b>0.6</button><button type="button" class="btn btn-small tooltipped vetting-det modal-trigger vetting_btn" id="modal6_fire" href="#modal6" data-position="bottom" data-tooltip="I am a tooltip" style="box-shadow: none; background-color: white; margin-left: 2px; color: black;">5 <i class="material-icons" style="font-size: 1em">thumb_up</i> 2 <i class="material-icons" style="font-size: 1em">thumb_down</i></button></div><p class="art_summary" style="display: block; font-size: 0.9em; padding: 10px; margin-left: 20px;">The system shall provide the ability to renew an existing medication order without requiring re-entry of order information....</p></div></td><td><div id="row6_vote" style="font-size: 0.8em; display:inline-block; padding:7px;">-->
                <!--<label>-->
                    <!--<input name="group6" type="radio" checked="">-->
                    <!--<span style="color: black">Link</span>-->
                <!--</label>-->
                <!--<label>-->
                    <!--<input name="group6" type="radio">-->
                    <!--<span style="color: black">No link</span>-->
                <!--</label>-->
                <!--<label>-->
                    <!--<input name="group6" type="radio">-->
                    <!--<span style="color: black">Unvetted</span>-->
                <!--</label>-->
            <!--</div></td></tr><tr class="collapse-content" id="row6_content" style="background-color: white;"><td><div id="row6_content_data" class="collapsed_content_data" style="display: none; padding: 10px; background-color: rgb(236, 239, 241);">The system shall provide the ability to renew an existing medication order without requiring re-entry of order information.</div></td><td></td></tr></tbody>-->




            <!--<tbody class="each_target_artifact"><tr id="row6" class="collapsible_" style="background-color: white;"><td><div><div class="action_btn" style="margin-top: 12px; margin-bottom: 12px;"><a class="targ_art_name waves-effect waves-light blue-grey lighten-3 dim-grey-text btn-small artifact-type collapsible_new" id="row6_target_button" style="color: black; margin-left: 20px;">Target 1015</a><button type="button" class="btn btn-small score_btn" style="background-color: white; cursor: unset; box-shadow: none; color: black; margin-left: 2px;"><b>Score: </b>0.6</button><button type="button" class="btn btn-small tooltipped vetting-det modal-trigger vetting_btn" id="modal6_fire" href="#modal6" data-position="bottom" data-tooltip="I am a tooltip" style="box-shadow: none; background-color: white; margin-left: 2px; color: black;">5 <i class="material-icons" style="font-size: 1em">thumb_up</i> 2 <i class="material-icons" style="font-size: 1em">thumb_down</i></button></div><p class="art_summary" style="display: block; font-size: 0.9em; padding: 10px; margin-left: 20px;">The system shall provide the ability to renew an existing medication order without requiring re-entry of order information....</p></div></td><td><div id="row6_vote" style="font-size: 0.8em; display:inline-block; padding:7px;">-->
                <!--<label>-->
                    <!--<input name="group6" type="radio" checked="">-->
                    <!--<span style="color: black">Link</span>-->
                <!--</label>-->
                <!--<label>-->
                    <!--<input name="group6" type="radio">-->
                    <!--<span style="color: black">No link</span>-->
                <!--</label>-->
                <!--<label>-->
                    <!--<input name="group6" type="radio">-->
                    <!--<span style="color: black">Unvetted</span>-->
                <!--</label>-->
            <!--</div></td></tr><tr class="collapse-content" id="row6_content" style="background-color: white;"><td><div id="row6_content_data" class="collapsed_content_data" style="display: none; padding: 10px; background-color: rgb(236, 239, 241);">The system shall provide the ability to renew an existing medication order without requiring re-entry of order information.</div></td><td></td></tr></tbody>-->



            <!--&lt;!&ndash;<thead>&ndash;&gt;-->
            <!--<tr>-->
                <!--<th>nombre</th>-->
                <!--<th>apellido</th>-->
                <!--<th>edad</th>-->
                <!--<th>mail</th>-->
            <!--</tr>-->
            <!--</thead>-->

            <!--<tbody >-->
            <!--<tr>-->
                <!--<td>Axel</td>-->
                <!--<td>Estes</td>-->
                <!--<td>33</td>-->
                <!--<td>gravida.sagittis.Duis@ultricesposuerecubilia.co.uk</td>-->
            <!--</tr>-->
            <!--<tr>-->
                <!--<td>Sean</td>-->
                <!--<td>Macias</td>-->
                <!--<td>63</td>-->
                <!--<td>ultrices.sit.amet@Cum.com</td>-->
            <!--</tr>-->
            <!--<tr>-->
                <!--<td>Keith</td>-->
                <!--<td>Merrill</td>-->
                <!--<td>11</td>-->
                <!--<td>Morbi.sit.amet@adipiscingligulaAenean.edu</td>-->
            <!--</tr>-->
            <!--<tr>-->
                <!--<td>Dean</td>-->
                <!--<td>Campos</td>-->
                <!--<td>50</td>-->
                <!--<td>Donec@libero.net</td>-->
            <!--</tr>-->
            <!--<tr>-->
                <!--<td>Prescott</td>-->
                <!--<td>Mayer</td>-->
                <!--<td>14</td>-->
                <!--<td>Duis.dignissim@turpis.net</td>-->
            <!--</tr>-->
            <!--<tr>-->
                <!--<td>Gil</td>-->
                <!--<td>Ayala</td>-->
                <!--<td>60</td>-->
                <!--<td>sem@enim.com</td>-->
            <!--</tr>-->
            <!--<tr>-->
                <!--<td>Orlando</td>-->
                <!--<td>Lara</td>-->
                <!--<td>44</td>-->
                <!--<td>mauris.sapien@risus.co.uk</td>-->
            <!--</tr>-->
            <!--<tr>-->
                <!--<td>Hop</td>-->
                <!--<td>Houston</td>-->
                <!--<td>80</td>-->
                <!--<td>aliquet.Phasellus.fermentum@sociosquad.com</td>-->
            <!--</tr>-->
            <!--<tr>-->
                <!--<td>Sylvester</td>-->
                <!--<td>Welch</td>-->
                <!--<td>23</td>-->
                <!--<td>sit.amet@liberoDonecconsectetuer.net</td>-->
            <!--</tr>-->
            <!--</tbody>-->
        </table>
        <!--<table id="target_artifacts"></table>-->
        <div class="col-md-12 center text-center">
            <span class="left" id="total_reg"></span>
            <ul class="pagination pager" id="myPager"></ul>
        </div>
    </div>



    <!--<div class="content-panel col s5"  >-->
        <!--&lt;!&ndash;<div class="content-panel-style2 " style="margin-top: 8px; margin-left: 0px; overflow: scroll">&ndash;&gt;-->
              <!--&lt;!&ndash;<table id="target_artifacts" >&ndash;&gt;-->
                <!--&lt;!&ndash;<colgroup>&ndash;&gt;-->
                    <!--&lt;!&ndash;<col span="1" style="width: 70%;">&ndash;&gt;-->
                    <!--&lt;!&ndash;<col span="1" style="width: 30%;">&ndash;&gt;-->
                <!--&lt;!&ndash;</colgroup>&ndash;&gt;-->
            <!--&lt;!&ndash;</table>&ndash;&gt;-->
            <!--&lt;!&ndash;<div class="col-md-12 center text-center">&ndash;&gt;-->
                <!--&lt;!&ndash;<span class="left" id="total_reg"></span>&ndash;&gt;-->
                <!--&lt;!&ndash;<ul class="pagination pager" id="myPager"></ul>&ndash;&gt;-->
            <!--&lt;!&ndash;</div>&ndash;&gt;-->

        <!--&lt;!&ndash;</div>&ndash;&gt;-->

    <!--</div>-->

</div>
</div>
</body>



<script src="https://unpkg.com/d3@6.6.1/dist/d3.min.js"></script>
<script>
    // document.addEventListener('DOMContentLoaded', function() {

    // });


    var my_target_data = [];
    
    
    // function loadTable(data) {
    //     const table = document.getElementById("myTable");
    //
    //     my_target_data.forEach(item => {
    //         let first_row = table.insertRow();
    //
    //         let targetBody = first_row.insertCell(0);
    //         targetBody.innerHTML = item.content;
    //
    //
    //
    //     })
    //
    //
    //
    // }




    function drawTargets(data) {


        var target_data = data[0].targets;

        var artifact_data = {
            "info": []
        };

        target_data.forEach(function (d) {
            artifact_data["info"].push({"aid": d["id"], "content": d["text"],
                "score": d["score"]});

            my_target_data.push({"aid": d["id"], "content": d["text"],
                "score": d["score"]})

        });

        // loadTable(my_target_data);
        console.log(my_target_data);


        var outer_list = d3.select("#myTable")
            .selectAll("tbody")
            .data(artifact_data['info'])
            .enter()
            .append("tbody")
            .attr("class", "eachTarget_artifact");


        var table_rows = outer_list.append("tr")
            .attr("id", function (d, i) {
                return "row" + (i + 1);
            })
            .attr("class", "collapsible_")
            .style("background-color", "white");

        var table_row_summary = table_rows.append("td");

        var table_row_summary_header_buttons = table_row_summary.append("div");


        var table_row_summary_header_buttons_outerdiv = table_row_summary_header_buttons.append("div")
            .attr("class", "action_btn")
            .style("margin-top", "12px")
            .style("margin-bottom", "12px");

        table_row_summary_header_buttons_outerdiv.append("a")
            .attr("class", "targ_art_name waves-effect waves-light blue-grey lighten-3 dim-grey-text btn-small artifact-type collapsible_new")
            // .attr("href", "https://anuyahmaro.github.io")
            // .attr("target", "_blank")
            // .style("background-color", "#7F00FF")
            .attr("id", function (d, i) {
                return "row" + (i + 1) + "_target_button"
            })
            .style("color", "black")
            .style("margin-left", "20px")
            .text(function (d) {
                return "Target " + d.aid;
            });

        table_row_summary_header_buttons_outerdiv.append("button")
            .attr("type", "button")
            .attr("class", "btn btn-small score_btn")
            .style("background-color", "white")
            .style("cursor", "unset")
            .style("box-shadow", "none")
            .style("color", "black")
            .style("margin-left", "2px")
            .html(function (d) {
                return "<b>Score: </b>" + d.score
            });

        table_row_summary_header_buttons_outerdiv.append("button")
            .attr("type", "button")
            .attr("class", "btn btn-small tooltipped vetting-det modal-trigger vetting_btn")
            .style("box-shadow", "none")
            .attr("id", function (d, i) {
                return "modal" + (i + 1) + "_fire"
            })
            .attr("href", function (d, i) {
                return "#modal" + (i + 1)
            })
            .style("background-color", "white")
            .attr("data-position", "bottom")
            .style("margin-left", "2px")
            .style("color", "black")
            .attr("data-tooltip", "I am a tooltip")
            .html(function (d) {
                return "5 <i class='material-icons' style='font-size: 1em'>thumb_up</i> 2 <i class='material-icons' style='font-size: 1em'>thumb_down</i>"
            });

        table_row_summary_header_buttons.append("p")
            .attr("class", "art_summary")
            .style("display", "block")
            .style("font-size", "0.9em")
            .style("padding", "10px")
            .style("margin-left", "20px")
            .text(function (d) {
                return d.content.slice(0, 400).replaceAll("_", " ") + "...";
            });


        table_rows.append("td")
            .html(function (d, i) {
                return "<div id='row"+(i+1)+"_vote' style='font-size: 0.8em; display:inline-block; padding:7px;'>\n" +
                    "         <label>\n" +
                    "         <input name='group"+(i+1)+"' type='radio' checked/>\n" +
                    "         <span style='color: black'>Link</span>\n" +
                    "         </label>\n" +
                    "         <label>\n" +
                    "             <input name='group"+(i+1)+"' type='radio'  />\n" +
                    "             <span style='color: black'>No link</span>\n" +
                    "         </label>\n" +
                    "         <label>\n" +
                    "             <input  name='group"+(i+1)+"' type='radio'/>\n" +
                    "             <span style='color: black'>Unvetted</span>\n" +
                    "         </label>\n" +
                    "         </div>"
            });


        var table_rows_content = outer_list.append("tr")
            .attr("class", "collapse-content")
            .attr("id", function (d, i) {
                return "row" + (i + 1) + "_content";
            })
            .style("background-color", "white");

        table_rows_content.append("td")

        // .attr("colspan", "2")
            .append("div")
            .attr("id", function (d, i) {
                return "row" + (i + 1) + "_content_data";
            })
            .attr("class", "collapsed_content_data")
            .style("display", "none")
            .style("padding", "10px")
            .style("background-color", "#eceff1")
            .text(function (d) {
                return d.content
            });

        table_rows_content.append("td");

        $(document).ready(function () {
            $('#myTable').pageMe({
                pagerSelector: '#myPager',
                activeColor: 'blue',
                prevText: 'Previous',
                nextText: 'Next',
                showPrevNext: true,
                hidePageNumbers: false,
                perPage: 8
            });
        });


        // Loading the target data has finished!
        // var coll_ = document.getElementsByClassName("collapsible-header");
        // var timesClicked = 0;
        // for (i = 0; i < coll_.length; i++) {
        //     coll_[i].addEventListener("click", collapseFunc);
        //
        //     // coll_[i].addEventListener("click", d);
        // }
        //
        //
        //
        // var coll_new = document.getElementsByClassName("collapsible_new");
        //
        // for (var i = 0; i < coll_new.length; i++) {
        //     coll_new[i].addEventListener("click", fnb);
        // }
        //
        // var back_btn = document.getElementsByClassName("back_button");
        // for (var i = 0; i < back_btn.length; i++) {
        //     back_btn[i].addEventListener("click", ref);
        // }



//         function fnb() {
//             timesClicked++;
//
//             if (timesClicked > 1) {
//                 ref()
//             }
//             else{
//
//                 // console.log(this.id);
//                 var target_this_id = this.id.split("_")[0];
//                 // console.log(target_this_id);
//
//                 var target_this = document.getElementById(target_this_id);
//                 // var main_parent =
//
//
//                 target_this.classList.toggle("active");
//                 //
//                 var index_of_current_target;
//
//                 // console.log(document.getElementById(this.nextElementSibling.id + "_data").style.display);
//
//                 for (var q = 0; q < coll_new.length; q++) {
//                     var current_q_id = coll_new[q].id.split("_")[0];
//                     var current_q = document.getElementById(current_q_id);
//                     if (current_q === target_this) {
//                         index_of_current_target = q;
//
//                         // console.log(index_of_current_target);
//
//
//                         var content = target_this.nextElementSibling;
//
//                         // console.log(content);
//
//                         var content_data = document.getElementById(content.id + "_data");
//                         // console.log(content_data.style.display);
//                         //
//                         //
//                         current_q.setAttribute("id", "currently_clicked_target");
//                         // content_data.setAttribute("id", "currently_clicked_target_content");
//
//                         //
//                         if (content_data.style.display === "block") {
//                             console.log("It is closed right now");
//                             content_data.style.display = "none";
//
//                             //
//                             //
//                         }
//                         else {
//                             content_data.style.display = "block";
//
//                             console.log("It is open right now");
//                             current_q.getElementsByClassName("art_summary")[0].style.display = "none"
//                             // coll_2[q].classList.remove("collapsible_");
//
//
//                         }
//                     }
//                     else { // while the collapsibles are not active, make sure to show their summary
//
//                         current_q.classList.remove("active");
//                         // coll_2[q].classList.remove("collapsible_");
//                         current_q.style.display = "none";
//                         current_q.setAttribute("id", "");
//                         current_q.nextElementSibling.setAttribute("id", "");
//                         current_q.nextElementSibling.style.display = "none";
//
//
//                     }
//
//                 }
//
//
//             }
//
//
//             var t_orig_content = document.getElementById("row"+(index_of_current_target+1)+"_content_data").textContent;
//
//             var target_concepts = [];
//
//             var importance_scores_target_concepts = [];
//             var clickedTargetData = [];
//             clickedTargetData.push(target_data[index_of_current_target]);
//
//             clickedTargetData.forEach(function (d) {
//                 var target_nodes = d['concepts'];
//                 target_nodes.forEach(c => {
//                     target_concepts.push(c)
//                 });
//
//                 d['importance_scores'].forEach(function (k) {
//                     for (const [key, value] of Object.entries(k)) {
//                         importance_scores_target_concepts.push({"name": key, "imp_score": value})
//                     }
//                 });
//             });
//
//             // console.log(clickedTargetData[0].score)
//
//             //Highlight the important words in the clicked target artifact
//             var split_target_words = t_orig_content.split(" ");
//             for (var i = 0; i < split_target_words.length; i++) {
//                 var targetWord = split_target_words[i].replace(".", "").replace(",","").replace(")","");
//                 if (target_concepts.includes(targetWord)) {
//                     var imp_score_t = conceptImportanceScores(targetWord, importance_scores_target_concepts);
//                     // console.log(imp_score_s);
//                     split_target_words[i] = "<a href='' onmouseout='urlMouseAction_leave(this)' onmouseover='urlMouseAction(this)'><span class='"+targetWord+"_t' " +
//                         "style='background-color:"+ colors(stemmer(targetWord)) + ";font-size:" + (1 * (1 + imp_score_t / 10)) +"em'>"  +  split_target_words[i].replaceAll("_", " ")  + "</span></a>";
//
//
//                     var new_t = split_target_words.join(" ");
//
//                     d3.select("#"+"row"+(index_of_current_target+1)+"_content_data")
//                         .html(new_t);
//                 }
//
//
//
//             }
//
//
//             // This is the point where we will set the function that will draw the link between the source and the current target
//             var data_node_links_ = {
//                 "Nodes": [],
//                 "links": []
//             };
//
//
//
//
//             var source_data = data[0].source;
//             var all_data_concepts_ = [
//             ];
//
//             source_data.forEach(function (d) {
//                 var source_nodes = d['concepts'];
//                 source_nodes.forEach(c => {
//                     data_node_links_["Nodes"].push({"lvl": 0, "name": c, "type": "source"});
//                     all_data_concepts_.push(c)
//                 });
//
//             });
//
//
//             clickedTargetData.forEach(function (d) {
//                 var target_nodes = d['concepts'];
//                 target_nodes.forEach(c => {
//                     data_node_links_["Nodes"].push({"lvl": 1, "name": c, "type": "target"});
//                     all_data_concepts_.push(c)
//                 });
//                 d['links'].forEach(l => {
//                     data_node_links_["links"].push(l);
//                 })
//
//             });
//
//
//
//             const all_unique_concepts = [...new Set(all_data_concepts_)];
//             all_unique_concepts.sort();
//
//
//             const concept_definitions_ = [];
//             const concept_importance_scores_ = [];
//
//             source_data.forEach(function (d) {
//                 var terminology = d["terminilogy"];
//                 d['definitions'].forEach(function (k) {
//                     for (const [key, value] of Object.entries(k)) {
//                         concept_definitions_.push({"name": key, "definition": value})
//                     }
//                 });
//
//                 d['importance_scores'].forEach(function (k) {
//                     for (const [key, value] of Object.entries(k)) {
//                         concept_importance_scores_.push({"name": key, "imp_score": value});
//
//                     }
//
//                 });
//
//
//             });
//
//             clickedTargetData.forEach(function (d) {
//                 d['definitions'].forEach(function (k) {
//                     for (const [key, value] of Object.entries(k)) {
//                         concept_definitions_.push({"name": key, "definition": value})
//                     }
//                 });
//
//                 d['importance_scores'].forEach(function (k) {
//                     for (const [key, value] of Object.entries(k)) {
//                         concept_importance_scores_.push({"name": key, "imp_score": value})
//                     }
//
//                 });
//
//             });
//
//             "use strict";
//             var count = [];
//
//             data_node_links_.Nodes.forEach(function (d) {
//                 count[d.lvl] = 0;
//             });
//
//             lvlCount = count.length;
//
//             Nodes = [];
//             data_node_links_.Nodes.forEach(function (d, i) {
//                 // console.log(i);
//                 if (d.lvl === 0){
//                     d.x = margin.left + d.lvl * (boxWidth + gap.width);
//                 }
//                 else {
//                     d.x = d.lvl * (boxWidth + gap.width) - margin.right;
//                 }
//                 d.y = margin.top + (boxHeight + gap.height) * count[d.lvl];
//                 d.cl =  colors(stemmer(d.name)); //getUniqueColors(d.name, data_concepts_unique);
//                 d.definition = conceptDef(d.name, concept_definitions_);
//                 d.imp_score = conceptImportanceScores(d.name, concept_importance_scores_);
//                 d.id = "n" + i;
//                 count[d.lvl] += 1;
//                 Nodes.push(d);
//                 // plc_Nodes.push(d);
//             });
//
//
//
// //     // get details about the links and how to draw the path between them
//             links = [];
//             data_node_links_.links.forEach(function (d) {
//                 // links = [];
//                 links.push({
//                     source: find(d.source, "source"),
//                     target: find(d.target, "target"),
//
//                     id: "l" + find(d.source, "source").id + find(d.target, "target").id,
//                     relationship: d.relationship
//                 });
//             });
//
//             // console.log(links);
//             // console.log("jj")
//
//             var useful_link = links;
//             // console.log();
//
//             // Draw all of the nodes
//             svg.append("g")
//                 .attr("class", "nodes");
//
//             var node = svg.select(".nodes")
//                 .selectAll("g")
//                 .data(Nodes)
//                 .enter()
//                 .append("g")
//                 .attr("class", "unit");
//
//             node.append("rect")
//                 .attr("x", function (d) {
//                     return d.x;
//                 })
//                 .attr("y", function (d) {
//                     return d.y;
//                 })
//                 .attr("id", function (d) {
//                     return d.id;
//                 })
//                 .attr("width", boxWidth)
//                 .attr("height", boxHeight)
//                 .attr("class", "node")
//                 .attr("fill", function (d) {
//                     return  colors(stemmer(d.name));//getUniqueColors(d.name, data_concepts_unique); // in case we want the color to change based on the color of the text
//                 })
//                 .attr("fill-opacity", "0.5")
//                 .attr("stroke", "darkgrey")
//                 .attr("stroke-width", "2px")
//                 // // .attr("fill", "blue")
//                 .on("mouseover", function () {
//                     mouse_action(d3.select(this).datum(), true);
//                 })
//                 .on("mouseout", function () {
//                     mouse_action_clear(d3.select(this).datum(), false);
//                 });
//
//
//             // Add the text to display in the rect (i.e., each node)
//             node.append("text")
//                 .attr("class", "label")
//                 .attr("x", function (d) {
//                     return d.x + boxWidth / 8;
//                 })
//                 .attr("y", function (d) {
//                     return d.y + boxHeight / 1.7;
//                 })
//                 .text(function (d) {
//                     return  d.name.replaceAll("_", " ");
//                 })
//                 .attr("font-size", (boxWidth * 0.007) + "em");
//
//
//
//             links.forEach(function (li) {
//                 svg.append("path", "g")
//                     .attr("class", "link_d3")
//                     .attr("stroke", "darkgray")
//                     // .style("stroke-dasharray", ("3, 3"))
//                     .attr("id", li.id)
//                     .attr("d", function () {
//                         var oTarget = {
//
//                             x: li.target.y + 0.5 * boxHeight,
//                             y: li.target.x
//                         };
//                         var oSource = {
//                             x: li.source.y + 0.5 * boxHeight,
//                             y: li.source.x
//                         };
//
//                         if (oSource.y < oTarget.y) {
//                             oSource.y += boxWidth;
//                         } else {
//                             oTarget.y += boxWidth;
//                         }
//                         return diagonal({
//                             source: oSource,
//                             target: oTarget
//                         });
//                     })
//                     // .attr("stroke-width", "black")
//                     .on("mouseover", function () {
//                         mouse_action_link(li);
//                     })
//                     .on("mouseout", function () {
//                         mouse_action_link_clear(li)
//                     });
//             });
//
//
//         }







    }


    d3.json("annotated_link_v2.json").then(data => {

        drawTargets(data);
        // drawSource(data);



    });
</script>